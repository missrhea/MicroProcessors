DATA SEGMENT
	MSG1 DB 10,13, "1.ACCEPT$"
	MSG2 DB 10,13, "2.DISPLAY$"
	MSG3 DB 10,13, "3.LENGTH$"
	MSG4 DB 10,13, "4.PALINDROME?$"
	MSG5 DB 10,13, "5.EXIT$"
	MSG7 DB 10,13, "ENTER STRING$"
	MSG6 DB 10,13, "LENGTH IS $"
	MSG8 DB 10,13, "STRING IS $"
	MSG9 DB 10,13, "IT IS PALINDOME$"
	MSG10 DB 10,13, "NOT PALINDROME$"
	CHOICE DB ?
	LEN DB ?
	MSG11 DB 10,13, "ENTER CHOICE:$"
	MSG12 DB 10,13, "INVALID CHOICE.. TRY AGAIN$"
	
DATA ENDS
CODE SEGMENT
ASSUME DS:DATA, CS:CODE
START:
		MOV AX,DATA
		MOV DS,AX
RESTART:LEA DX,MSG1
		MOV AH,9
		INT 21H
		LEA DX,MSG2
		MOV AH,9
		INT 21H
		LEA DX,MSG3
		MOV AH,9
		INT 21H
		LEA DX,MSG4
		MOV AH,9
		INT 21H
		LEA DX,MSG5
		MOV AH,9
		INT 21H
		MOV DX,OFFSET MSG11
		MOV AH,9
		INT 21H
		MOV AH,1
		INT 21H
		SUB AL,30H
		MOV CHOICE,AL
		CMP AL,05H
		JNZ NOEXIT
		MOV AH,4CH
		INT 21H
NOEXIT:	MOV CHOICE,AL
		CMP AL,04H
		JNZ	NOPAL
		CALL PALCHECK;
		JMP RESTART
NOPAL:	MOV CHOICE,AL
		CMP AL,03H
		JNZ NOLEN
		CALL FINDLEN
		JMP RESTART
NOLEN:	MOV CHOICE,AL
		CMP AL,02H
		JNZ NODISP
		CALL DISP
		JMP RESTART
NODISP:	MOV CHOICE,AL
		CMP AL,01H
		JNZ INVALID
		CALL ACCEPT
		JMP RESTART
INVALID:LEA DX,MSG12
		MOV AH,9
		INT 21H
		JMP RESTART
		
		ACCEPT PROC
			MOV SI,1000H
			MOV DI,1000H
			MOV CL,00H
			LEA DX,MSG7
			MOV AH,9
			INT 21H
GETIN:		MOV AH,1
			INT 21H
			CMP AL,0DH
			JZ GETOUT
			MOV [SI],AL
			MOV [DI],AL
			INC SI
			INC DI
			INC CL
			JMP GETIN
GETOUT:		MOV LEN,CL
			RET
		ENDP	
		
		DISP PROC
			LEA DX,MSG8
			MOV AH,9
			INT 21H
			MOV SI,1000H
			MOV CL,LEN
			MOV CH,00H
PRINT:		MOV DL,[SI]
			MOV AH,2
			INT 21H
			INC SI
			LOOP PRINT
			RET
		ENDP

		FINDLEN PROC
			LEA DX,MSG6
			MOV AH,9
			INT 21H
			MOV DL,LEN
			AND DL,0F0H
			ROR DL,04H
			CMP DL,0AH
			JC LAB
			ADD DL,07H
LAB:		ADD DL,30H	
			MOV AH,02H
			INT 21H
			MOV DL,LEN
			AND DL,0FH
			CMP DL,0AH
			JC LABB
			ADD DL,07H
LABB:		ADD DL,30H	
			MOV AH,02H
			INT 21H
			RET
		ENDP

		PALCHECK PROC
			MOV SI,1000H
			MOV DI,SI
			MOV AL,LEN
			DEC AL
			MOV AH,00H
			ADD DI,AX
RECHECK:	MOV AL,[DI]
			CMP AL,[SI]
			JNZ NONPAL
			INC SI
			DEC DI
			CMP DI,1000H
			JZ PAL
			JMP RECHECK
PAL:		LEA DX,MSG9
			MOV AH,9
			INT 21H
			RET
NONPAL:		LEA DX,MSG10
			MOV AH,9
			INT 21H
			RET
		ENDP
		
CODE ENDS
END START